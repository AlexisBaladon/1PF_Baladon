<div id="course-detail" class="layout-child">
    <div id="data-blocks" class="custom-co">
        <ng-container *ngFor="let blockInfo of [
            {title: 'Créditos', icon: 'school', value: course?.credits, customBackground: 'linear-main'},
            {title: 'Profesor del Curso', icon: 'person', value: course?.teacher, customBackground: 'linear-main'},
            {title: 'Nota promedio', icon: 'star', value: course?.averageGrade, customBackground: 'linear-main'},
            {title: 'Total de Estudiantes', icon: 'people', value: course?.studentsId?.length, customBackground: 'linear-main'},
        ]">
            <div class="data-block" [appCustomBackground]="'linear-main'">
                    <h1 [appFontSize]="'medium'">{{blockInfo.title}}</h1>
                    <div class="card-info">
                        <mat-icon class="icon">{{blockInfo.icon}}</mat-icon>
                        <h2>{{blockInfo.value}}</h2>
                    </div>
            </div>
        </ng-container>
    </div>
    <div id="course-bottom-data" class="row">
        <div id="course-bottom-center-data" class="col-lg-6">
            <app-section-header
                id="course-header"
                class = "custom-container"
                [title]="course?.name || ''"
                [description]="course?.description || ''"
                [icon]="course?.icon || ''"
                [customBackground]="'linear-main'"
            >
            </app-section-header>
            <section id="course-plots" class="custom-container">
                <app-section-header
                    id="course-plots-header"
                    [title]="'Estadísticas'"
                    [description]="'Estadísticas de los estudiantes'"
                    [icon]="'equalizer'"
                    [customBackground]="'linear-main'"
                >
                </app-section-header>
                <div id="plots">
                    <div class="chart-wrapper">
                        <canvas baseChart 
                            [datasets]="lineChartData" 
                            [labels]="lineChartLabels" 
                            [options]="lineChartOptions"
                            [legend]="lineChartLegend" 
                        >
                        </canvas>
                    </div>
                </div>
            </section>
        </div>

        <aside id="course-detail-right" class="col-lg-4">
            <section id="course-students-data" class="custom-container">
                <app-section-header
                    id="course-students-header"
                    [title]="'Estudiantes'"
                    [description]="'Estudiantes del curso'"
                    [icon]="'people'"
                    [customBackground]="'linear-main'"
                >
                </app-section-header>
                <div class="students">
                    <ng-container *ngFor="let student of courseStudents.slice(0,4)">
                        <app-card
                            [title]="student | fullName"
                            [description]="student.email"
                            [pictureUrl]="student.pictureUrl"
                            [pictureHeight]="80"
                            [pictureAlt]="student.name"
                            [footerText]="student.email"
                        >
                    </app-card>
                </ng-container>
                <button id="students-see-more" [appCustomBackground]="'linear-main'" mat-raised-button routerLink="/course/{{course?.id}}/students" color="primary">
                    <mat-icon>keyboard_arrow_right</mat-icon>
                    Ver más
                </button>
            </div>
            </section>

            <div class="custom-container">
                <app-section-header
                    id="course-students-header"
                    [title]="'Carreras'"
                    [description]="'Distribución de estudiantes por carrera'"
                    [icon]="'donut_small'"
                    [customBackground]="'linear-main'"
                >
                </app-section-header>
                <canvas baseChart class="chart"
                    [data]="doughnutChartData"
                    [type]="doughnutChartType"
                    [options]="doughnutChartOptions"
                >
                </canvas>
            </div>
        </aside>
    </div>
</div>